# ЛОВУШКИ

Ловушки позволяют скрипту выполнять код на различных сигналах. В [pxltrm](https://github.com/dylanaraps/pxltrm) (*редактор пиксельной графики, написанный на bash*) ловушки используются для перерисовки пользовательского интерфейса при изменении размера окна. Другой вариант использования — очистка временных файлов при выходе из скрипта.

Ловушки следует добавлять в начале скриптов, чтобы также обнаруживались любые ранние ошибки.

**ПРИМЕЧАНИЕ.** Полный список сигналов см. в разделе `trap -l`.


## Выполнить действия при выходе из скрипта

```shell
# Очистить экран при выходе из скрипта.
trap 'printf \\e[2J\\e[H\\e[m' EXIT
```

## Игнорировать терминальное прерывание (CTRL+C, SIGINT)

```shell
trap '' INT
```

## Реагировать на изменение размера окна

```shell
# Вызвать функцию изменения размера окна.
trap 'code_here' SIGWINCH
```

## Выполнить действия перед каждой командой

```shell
trap 'code_here' DEBUG
```

## Выполнить действия, когда функция оболочки или исходный файл завершит выполнение

```shell
trap 'code_here' RETURN
```

<!-- CHAPTER END -->

