# КОРОТКАЯ ЗАПИСЬ КОДА

## Более короткий синтаксис цикла for

```shell
# коротка запись в стиле С.
for((;i++<10;)){ echo "$i";}

# недокументированный метод.
for i in {1..10};{ echo "$i";}

# расширенная.
for i in {1..10}; do echo "$i"; done

# в стиле С.
for((i=0;i<=10;i++)); do echo "$i"; done
```

## Более короткие бесконечные циклы

```shell
# нормальный метод
while :; do echo hi; done

# короче
for((;;)){ echo hi;}
```

## Более короткое объявление функции

```shell
# нормальный метод
f(){ echo hi;}

# использование подоболочки
f()(echo hi)

# использование арифметики
# это можно использовать для присвоения целочисленных значений.
# пример f a=1
#        f a++
f()(($1))

# использование тестов, циклов и т. д..
# ПРИМЕЧАНИЕ: также можно использовать ‘while’, ‘until’, ‘case’, ‘(())’, ‘[[]]’.
f()if true; then echo "$1"; fi
f()for i in "$@"; do echo "$i"; done
```

## Более короткий синтаксис if

```shell
# в одну строчку
# Примечание: 3-й оператор может выполняться, когда 1-й верен
[[ $var == hello ]] && echo hi || echo bye
[[ $var == hello ]] && { echo hi; echo there; } || echo bye

# многострочная запись (no else, single statement)
# Примечание: статус выхода может не совпадать с оператором if
[[ $var == hello ]] &&
    echo hi

# многострочная запись (no else)
[[ $var == hello ]] && {
    echo hi
    # ...
}
```

## Более простой оператор case для установки переменной

`:` можно использовать, чтобы избежать повторения `variable=` в операторе case. Переменная `$_` хранит последний аргумент последней команды. `:` всегда завершается успешно, поэтому его можно использовать для сохранения значения переменной.

```shell
# модифицированный фрагмент из Neofetch.
case "$OSTYPE" in
    "darwin"*)
        : "MacOS"
    ;;

    "linux"*)
        : "Linux"
    ;;

    *"bsd"* | "dragonfly" | "bitrig")
        : "BSD"
    ;;

    "cygwin" | "msys" | "win32")
        : "Windows"
    ;;

    *)
        printf '%s\n' "Unknown OS detected, aborting..." >&2
        exit 1
    ;;
esac

# в конце, установите переменную.
os="$_"
```

<!-- CHAPTER END -->

